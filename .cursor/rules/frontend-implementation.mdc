---
globs: src/app/**/*.tsx,src/components/**/*.tsx
description: フロントエンド実装ガイドライン（UI/UX要件）
---

# フロントエンド実装ガイドライン

## UI要件
- **スタイル**: Tailwind CSS（最小構成）
- **レスポンシブ**: モバイルファースト
- **アクセシビリティ**: 基本的なWCAG準拠

## 主要機能

### 1. ファイルアップロード
- **D&D対応**: ドラッグ&ドロップインターフェース
- **ファイル選択**: 従来のファイル選択も併用
- **制限事項**: 
  - ファイル形式: `video/*`のみ
  - サイズ制限: 2GB
  - 進捗表示必須

### 2. 処理状態管理
- **進捗表示**: アップロード→Gemini処理→OpenRouter処理
- **キャンセル機能**: 処理中断可能
- **再試行機能**: エラー時の再実行

### 3. 結果表示
- **メイン結果**: `final`（JSON整形表示）
- **コピー/保存ボタン**: JSONの出力機能
- **詳細情報**: `gemini_text`（折りたたみ表示）

### 4. エラーハンドリング
具体的なエラーメッセージと対処法を表示：
- **2GB超過**: "ファイルサイズが2GBを超えています。動画を圧縮してください。"
- **不正なMIME**: "動画ファイルをアップロードしてください。"
- **OpenRouter JSON不正**: "JSON生成に失敗しました。再試行してください。"
- **48時間制限**: "ファイルの保存期限が切れています。再アップロードしてください。"

## 状態管理
```typescript
type ProcessState = 'idle' | 'uploading' | 'gemini' | 'openrouter' | 'completed' | 'error';

interface ProcessResult {
  final?: any;
  gemini_text?: string;
  error?: string;
}
```

## UXガイドライン
- **即座のフィードバック**: ユーザーアクションに対する即座の応答
- **明確な進捗**: 各処理ステップの可視化
- **エラー回復**: エラー時の明確な次のアクション提示